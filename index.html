<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>  
       // Points for the machine and human playing
       let humanScore = 0;
       let computerScore = 0;
       
       // Returns a str 'rock', 'paper' or 'scissors' 
       function getComputerChoice() {

            // Contains a number between, 0,1 and 2 
            let computer_number;
            
            // Creates variable to hold the computer choice
            let computer_choice;
            
            // Generates a number between, 0,1 and 2 
            computer_number = Math.floor(Math.random() * 3)

            // Asigns number to a certain choice
            if (computer_number === 0) {
                computer_choice = 'rock'
            } 
            else if (computer_number === 1) {
                computer_choice = 'paper'
            }
            else {
                computer_choice = 'scissors'
            }
            
            return computer_choice
       }

       // Returns a str in lowercase wrote by the user. Should be 'rock', 'paper' or scissors.
       function getHumanChoice() {

            // Prompts the user for an option
            let human_choice = prompt('Rock, paper or scissors?')

            // Makes answer case-insensitive
            return human_choice.toLowerCase()

       }
    
    // Game functionality/logic
    function playRound (humanChoice, computerChoice) {
            
        // Checks for a draw
        if (humanChoice === computerChoice) {
            console.log('It is a draw!')
        } else {

            // Rock selected
            switch (humanChoice) {
                
                case 'rock':

                    // Computer wins situation
                    if (computerChoice === 'paper'){
                        computerScore += 1 
                        console.log(`${computerChoice} beats ${humanChoice}`)
                    }
                    // win situation
                    else {
                        humanScore += 1
                        console.log(`${humanChoice} beats ${computerChoice}`)
                    }
                
                case 'paper': 
                    
                    // Computer wins situation
                    if (computerChoice === 'scissors'){
                        computerScore += 1 
                        console.log(`${computerChoice} beats ${humanChoice}`)
                    }
                    // win situation
                    else {
                        humanScore += 1
                        console.log(`${humanChoice} beats ${computerChoice}`)
                    };

                case 'scissors': 
                    // Computer wins situation
                    if (computerChoice === 'scissors'){
                        computerScore += 1 
                        console.log(`${computerChoice} beats ${humanChoice}`)
                    }
                    // win situation
                    else {
                        humanScore += 1
                        console.log(`${humanChoice} beats ${computerChoice}`)
                    };
            }
        }
    }

    function playGame (round) {
        for (let i = 1; i < 5; i++) {
            console.log(`We are playing round ${i}`)
            if (humanScore === 3 || computerScore === 3) {
                console.log('Game is finished!');
            } else {
                playRound(humanSelection, computerSelection)
                console.log(`Human Score: ${humanScore}`)
                console.log(`Computer Score: ${computerScore}`)
            }
        }
    }

    // Selections from both players
    const humanSelection = getHumanChoice()
    const computerSelection =  getComputerChoice()
    
    // Initiates the game, taking a value from the user and the machine.
    playGame()

    </script>

</body>
</html>